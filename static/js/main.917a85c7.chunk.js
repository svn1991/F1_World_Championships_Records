(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,n,t){},103:function(e,n,t){},104:function(e,n,t){},105:function(e,n,t){},106:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(8),i=t.n(c),o=t(10),s=t(11),l=t.n(s),u=window.localStorage,d="https://ergast.com/api/f1";var m=t(9),f=t.n(m);t(102);var v=function(){return r.a.createElement("div",{id:"loading-wrapper"},r.a.createElement("div",{id:"loading-text"},"LOADING"),r.a.createElement("div",{id:"loading-content"}))};t(103);var g=function(e){var n=e.year,t=e.seasonWinner,c=Object(a.useState)({}),i=Object(o.a)(c,2),s=i[0],m=i[1];return Object(a.useEffect)(function(){(function(e){var n="".concat(d,"/").concat(e,"/results/1.json");return u[n]?Promise.resolve(JSON.parse(u.getItem(n))):l.a.get(n).then(function(e){var t=e.data.MRData.RaceTable.Races;u.setItem(n,JSON.stringify(t))}).catch(function(e){console.log(e),u.setItem(n,JSON.stringify([]))}).then(function(){return JSON.parse(u.getItem(n))})})(n).then(function(e){var n={};e.forEach(function(e,t){n[e.round]={round:e.round,raceName:e.raceName,raceUrl:e.url,winner:e.Results[0].Driver}}),m(n)})},[]),r.a.createElement("div",{className:"races-wrapper"},r.a.createElement("h1",{className:"races-title"},"F1 Races for Season ".concat(n)),0===Object.keys(s).length?r.a.createElement(v,null):r.a.createElement(f.a,{keyField:"id",data:Object.keys(s).map(function(e){var n=s[e];return{id:n.round,race:r.a.createElement("a",{href:n.url},n.raceName),winner:r.a.createElement("a",{href:n.winner.url,className:n.winner.driverId===t?"highlight-winner":""},"".concat(n.winner.givenName," ").concat(n.winner.familyName))}}),columns:[{dataField:"race",text:"Races"},{dataField:"winner",text:"Winner"}],condensed:!0,bordered:!1}))};t(104);var p=function(e){var n=e.startYear,t=e.endYear,c=Object(a.useState)({}),i=Object(o.a)(c,2),s=i[0],m=i[1];Object(a.useEffect)(function(){var e=!0;return function(e,n){var t="".concat(d,"/seasons.json?limit=").concat(n-e+1,"&offset=").concat(e-1950);return u[t]?Promise.resolve(JSON.parse(u.getItem(t))):l.a.get(t).then(function(e){var n=e.data.MRData.SeasonTable.Seasons;u.setItem(t,JSON.stringify(n))}).catch(function(e){console.log(e),u.setItem(t,JSON.stringify([]))}).then(function(){return JSON.parse(u.getItem(t))})}(n,t).then(function(n){var t=n.map(function(e){return function(e){var n="".concat(d,"/").concat(e,"/driverStandings/1.json");return u[n]?Promise.resolve(JSON.parse(u.getItem(n))):l.a.get(n).then(function(t){var a=t.data.MRData.StandingsTable.StandingsLists[0].DriverStandings[0].Driver;a.winningYearRecord=e,u.setItem(n,JSON.stringify(a))}).catch(function(e){console.log(e),u.setItem(n,JSON.stringify({}))}).then(function(){return JSON.parse(u.getItem(n))})}(e.season)});Promise.all(t).then(function(t){var a={};t.forEach(function(e,t){var r=n[t];a[r.season]={winner:e,year:r.season,url:r.url}}),e&&m(a)})}),function(){return e=!1}},[]);var p={onlyOneExpanding:!0,showExpandColumn:!0,renderer:function(e){return r.a.createElement(g,{year:e.id,seasonWinner:e.winnerId})},expandHeaderColumnRenderer:function(e){return e.isAnyExpands?r.a.createElement("b",null,"-"):r.a.createElement("b",null,"+")},expandColumnRenderer:function(e){return e.expanded?r.a.createElement("b",null,"-"):r.a.createElement("b",null,"...")}};return r.a.createElement("div",{className:"seasons-wrapper"},r.a.createElement("h1",{className:"seasons-title"},"F1 World Championships: ".concat(n,"-").concat(t)),0===Object.keys(s).length?r.a.createElement(v,null):r.a.createElement(f.a,{keyField:"id",data:Object.keys(s).map(function(e){return{id:e,winnerId:s[e].winner.driverId,season:r.a.createElement("a",{href:s[e].url},e),winner:r.a.createElement("a",{href:s[e].winner.url},"".concat(s[e].winner.givenName," ").concat(s[e].winner.familyName))}}),columns:[{dataField:"season",text:"Season"},{dataField:"winner",text:"Winner"}],expandRow:p,bordered:!1,condensed:!0}))};t(105);var w=document.getElementById("root");i.a.render(r.a.createElement(function(){return r.a.createElement(p,{startYear:2005,endYear:2015})},null),w)},34:function(e,n,t){e.exports=t(106)}},[[34,1,2]]]);
//# sourceMappingURL=main.917a85c7.chunk.js.map