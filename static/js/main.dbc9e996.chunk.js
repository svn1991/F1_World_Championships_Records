(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,n,t){},103:function(e,n,t){},104:function(e,n,t){},105:function(e,n,t){},106:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(8),i=t.n(c),o=t(10),s=t(9),l=t.n(s),u=t(11),d=t.n(u),m=window.localStorage,f="https://ergast.com/api/f1";t(102);var v=function(){return r.a.createElement("div",{id:"loading-wrapper"},r.a.createElement("div",{id:"loading-text"},"LOADING"),r.a.createElement("div",{id:"loading-content"}))};t(103);var w=function(e){var n=e.year,t=e.seasonWinner,c=Object(a.useState)({}),i=Object(o.a)(c,2),s=i[0],u=i[1];return Object(a.useEffect)(function(){(function(e){var n="".concat(f,"/").concat(e,"/results/1.json");return m[n]?Promise.resolve(JSON.parse(m.getItem(n))):d.a.get(n).then(function(e){var t=e.data.MRData.RaceTable.Races;if(!(t.length>0))throw Error;return m.setItem(n,JSON.stringify(t)),t}).catch(function(){return m.setItem(n,JSON.stringify([])),[]})})(n).then(function(e){var n={};e.forEach(function(e){n[e.round]={round:e.round,raceName:e.raceName,raceUrl:e.url,winner:e.Results[0].Driver}}),u(n)})},[n]),r.a.createElement("div",{className:"races-wrapper"},r.a.createElement("h1",{className:"races-title"},"F1 Races for Season ".concat(n)),0===Object.keys(s).length?r.a.createElement(v,null):r.a.createElement("div",{"data-testid":"table"},r.a.createElement(l.a,{keyField:"id",data:Object.keys(s).map(function(e){var n=s[e];return{id:n.round,race:r.a.createElement("a",{href:n.raceUrl},n.raceName),winner:r.a.createElement("a",{href:n.winner.url,className:n.winner.driverId===t?"highlight-winner":""},"".concat(n.winner.givenName," ").concat(n.winner.familyName))}}),columns:[{dataField:"race",text:"Races"},{dataField:"winner",text:"Winner"}],condensed:!0,bordered:!1})))};t(104);var E=function(e){var n=e.startYear,t=e.endYear,c=Object(a.useState)({}),i=Object(o.a)(c,2),s=i[0],u=i[1];Object(a.useEffect)(function(){var e=!0;return function(e,n){var t="".concat(f,"/seasons.json?limit=").concat(n-e+1,"&offset=").concat(e-1950);return m[t]?Promise.resolve(JSON.parse(m.getItem(t))):d.a.get(t).then(function(e){var n=e.data.MRData.SeasonTable.Seasons;if(!(n.length>0))throw Error;return m.setItem(t,JSON.stringify(n)),n}).catch(function(){return m.setItem(t,JSON.stringify([])),[]})}(n,t).then(function(n){var t=n.map(function(e){return function(e){var n="".concat(f,"/").concat(e,"/driverStandings/1.json");return m[n]?Promise.resolve(JSON.parse(m.getItem(n))):d.a.get(n).then(function(t){var a=t.data.MRData.StandingsTable.StandingsLists[0].DriverStandings[0].Driver;return a.winningYearRecord=e,m.setItem(n,JSON.stringify(a)),a}).catch(function(){return m.setItem(n,JSON.stringify({})),{}})}(e.season)});Promise.all(t).then(function(t){var a={};t.forEach(function(e,t){var r=n[t];a[r.season]={winner:e,year:r.season,url:r.url}}),e&&u(a)})}),function(){e=!1}},[]);var E={onlyOneExpanding:!0,showExpandColumn:!0,renderer:function(e){return r.a.createElement(w,{year:parseInt(e.id),seasonWinner:e.winnerId})},expandHeaderColumnRenderer:function(e){return e.isAnyExpands?r.a.createElement("b",null,"-"):r.a.createElement("b",null,"+")},expandColumnRenderer:function(e){return e.expanded?r.a.createElement("b",null,"-"):r.a.createElement("b",null,"...")}};return r.a.createElement("div",{className:"seasons-wrapper"},r.a.createElement("h1",{className:"seasons-title"},"F1 World Championships: ".concat(n,"-").concat(t)),0===Object.keys(s).length?r.a.createElement(v,null):r.a.createElement(l.a,{keyField:"id",data:Object.keys(s).map(function(e){return{id:e,winnerId:s[e].winner.driverId,season:r.a.createElement("a",{href:s[e].url},e),winner:r.a.createElement("a",{href:s[e].winner.url},"".concat(s[e].winner.givenName," ").concat(s[e].winner.familyName))}}),columns:[{dataField:"season",text:"Season"},{dataField:"winner",text:"Winner"}],expandRow:E,bordered:!1,condensed:!0}))};t(105);var g=document.getElementById("root");i.a.render(r.a.createElement(function(){return r.a.createElement(E,{startYear:2005,endYear:2015})},null),g)},34:function(e,n,t){e.exports=t(106)}},[[34,1,2]]]);
//# sourceMappingURL=main.dbc9e996.chunk.js.map